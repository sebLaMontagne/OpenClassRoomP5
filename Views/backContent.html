<!-- Utiliser toujours l'id local !!! -->
<p><?= $this->_strings['BACK_CONTENT_PRESENTATION'] ?></p>

<!-- Affichage des ingrédients -->

<?php if(!empty($this->_ingredients)) : ?>
<h2 class="backContent_title"><?= $this->_strings['BACK_CONTENT_TITLE_INGREDIENTS'] ?></h2>

    <?php foreach($this->_ingredients as $ingredient) : ?>
<div class="row">
    <div class="dish_container col-6">

        <h3><?= $ingredient->Name() ?> (<?= $ingredient->lang() ?>)</h3>

        <hr class="commentary-bound" />

        <div class="row">
            <div class="col-12"><img class="dish_illustration" src="Ressources/img/ingredients/<?= $ingredient->Image() ?>" /></div>
        </div>
        
        <!-- Infos sur les catégories d'ingrédients -->

        <hr class="commentary-bound" />

        <p class="ingredient_category"><?= $this->_strings['BACK_CONTENT_INGREDIENT_CATEGORY'] ?>
        <?php if($ingredient->isPoultry()) : ?> 
            <span class="text-success"><?= $this->_strings['BACK_CONTENT_INGREDIENT_CATEGORY_YES'] ?></span> 
        <?php else : ?>
            <span class="text-danger"><?= $this->_strings['BACK_CONTENT_INGREDIENT_CATEGORY_NO'] ?></span> 
        <?php endif ?>
            <span><?= $this->_strings['BACK_CONTENT_INGREDIENT_POULTRY'] ?></span>
        </p>

        <p class="ingredient_category"><?= $this->_strings['BACK_CONTENT_INGREDIENT_CATEGORY'] ?> 
        <?php if($ingredient->isFish()) : ?> 
            <span class="text-success"><?= $this->_strings['BACK_CONTENT_INGREDIENT_CATEGORY_YES'] ?></span> 
        <?php else : ?>
            <span class="text-danger"><?= $this->_strings['BACK_CONTENT_INGREDIENT_CATEGORY_NO'] ?></span> 
        <?php endif ?>
            <span><?= $this->_strings['BACK_CONTENT_INGREDIENT_FISH'] ?></span>
        </p>

        <p class="ingredient_category"><?= $this->_strings['BACK_CONTENT_INGREDIENT_CATEGORY'] ?> 
        <?php if($ingredient->isSeaFood()) : ?> 
            <span class="text-success"><?= $this->_strings['BACK_CONTENT_INGREDIENT_CATEGORY_YES_2'] ?></span> 
            <?php else : ?>
            <span class="text-danger"><?= $this->_strings['BACK_CONTENT_INGREDIENT_CATEGORY_NO_2'] ?></span> 
            <?php endif ?>
            <span><?= $this->_strings['BACK_CONTENT_INGREDIENT_SEAFOOD'] ?></span>
        </p>

        <p class="ingredient_category"><?= $this->_strings['BACK_CONTENT_INGREDIENT_CATEGORY'] ?> 
        <?php if($ingredient->isFromAnimal()) : ?> 
            <span class="text-success"><?= $this->_strings['BACK_CONTENT_INGREDIENT_CATEGORY_YES_2'] ?></span> 
            <?php else : ?>
            <span class="text-danger"><?= $this->_strings['BACK_CONTENT_INGREDIENT_CATEGORY_NO_2'] ?></span> 
            <?php endif ?>
            <span><?= $this->_strings['BACK_CONTENT_INGREDIENT_FROM_ANIMAL'] ?></span>
        </p>

        <p class="ingredient_category"><?= $this->_strings['BACK_CONTENT_INGREDIENT_CATEGORY'] ?> 
        <?php if($ingredient->isFruit()) : ?> 
            <span class="text-success"><?= $this->_strings['BACK_CONTENT_INGREDIENT_CATEGORY_YES_2'] ?></span> 
            <?php else : ?>
            <span class="text-danger"><?= $this->_strings['BACK_CONTENT_INGREDIENT_CATEGORY_NO_2'] ?></span> 
            <?php endif ?>
            <span><?= $this->_strings['BACK_CONTENT_INGREDIENT_FRUIT'] ?></span>
        </p>

        <p class="ingredient_category"><?= $this->_strings['BACK_CONTENT_INGREDIENT_CATEGORY'] ?> 
            <?php if($ingredient->isVegetable()) : ?> 
                <span class="text-success"><?= $this->_strings['BACK_CONTENT_INGREDIENT_CATEGORY_YES_2'] ?></span> 
                <?php else : ?>
                <span class="text-danger"><?= $this->_strings['BACK_CONTENT_INGREDIENT_CATEGORY_NO_2'] ?></span> 
                <?php endif ?>
                <span><?= $this->_strings['BACK_CONTENT_INGREDIENT_VEGETABLES'] ?></span>
            </p>

        <hr class="commentary-bound" />
        <!-- Infos chiffrées -->

        <p><?= $this->_strings['BACK_CONTENT_BASE_CALORIES'] ?> : <?= $ingredient->baseCalories() ?> Cal</p>
        <p><?= $this->_strings['BACK_CONTENT_UNIT_WEIGHT'] ?> : <?= $ingredient->unitWeight() ?> g</p>
        
        <hr class="commentary-bound" />

        <div class="ingredient_button_container">
            <a class="ingredient_button" href="confirmIngredient-<?= $ingredient->Id() ?>.<?= $_GET['lang'] ?>"><?= $this->_strings['BACK_CONTENT_CONFIRM_INGREDIENT'] ?></a>
            <a class="ingredient_button" href="refuseIngredient-<?= $ingredient->Id() ?>.<?= $_GET['lang'] ?>"><?= $this->_strings['BACK_CONTENT_DENY_INGREDIENT'] ?></a>
        </div>

    </div>
</div>
    <?php endforeach ?>
<?php endif ?>

<!-- Affichage des repas -->

<?php if(!empty($this->_dishes)) : ?>
<h2 class="backContent_title"><?= $this->_strings['BACK_CONTENT_TITLE_DISHES'] ?></h2>

    <?php foreach($this->_dishes as $dish) : ?>
<div class="row">
    <div class="dish_container">
        <h3><?= $dish->Name() ?> (<?= $dish->lang() ?>)</h3>

    <?php if($dish->Type() == 'breakfast') : ?>
        <h4><?= $this->_strings['DISH_EDITOR_BREAKFAST'] ?></h4>
    <?php elseif($dish->Type() == 'starter') : ?>
        <h4><?= $this->_strings['DISH_EDITOR_STARTER'] ?></h4>
    <?php elseif($dish->Type() == 'mainDish-a') : ?>
        <h4><?= $this->_strings['DISH_EDITOR_MAIN_DISH_A'] ?></h4>
    <?php elseif($dish->Type() == 'mainDish-b') : ?>
        <h4><?= $this->_strings['DISH_EDITOR_MAIN_DISH_B'] ?></h4>
    <?php elseif($dish->Type() == 'dessert') : ?>
        <h4><?= $this->_strings['DISH_EDITOR_DESSERT'] ?></h4>
    <?php endif ?>

        <div class="row">
            <div class="col-12"><img class="dish_illustration" src="<?= 'Ressources/img/dishes/'.$dish->Image() ?>" /></div>
        </div>

        <div class="row">
            <p class="col-12"><?= $dish->Author()->Name(); ?></p>
        </div>

        <div class="row">
            <span class="col-4 icon icon_like"><?= $dish->Likes() ?></span>
            <span class="col-4 icon icon_dislike"><?= $dish->Dislikes() ?></span>
            <span class="col-4 icon icon_commentary"><?= count($dish->Comments()) ?></span>
        </div>

        <div class="ingredient_button_container">
            <a class="ingredient_button" href="backDish-<?= $dish->Id() ?>.<?= $_GET['lang'] ?>"><?= $this->_strings['BACK_CONTENT_CONSULT_DISH'] ?></a>
            <a class="ingredient_button" href="confirmDish-<?= $dish->Id() ?>.<?= $_GET['lang'] ?>"><?= $this->_strings['BACK_CONTENT_ACCEPT_DISH'] ?></a>
            <a class="ingredient_button" href="refuseDish-<?= $dish->Id() ?>.<?= $_GET['lang'] ?>"><?= $this->_strings['BACK_CONTENT_DENY_DISH'] ?></a>
        </div>
    </div>
</div>
    <?php endforeach ?>
<?php endif ?>

<!-- Affichage des articles -->

<?php if(!empty($this->_articles)) : ?>
<h2 class="backContent_title"><?= $this->_strings['BACK_CONTENT_TITLE_ARTICLES'] ?></h2>

    <?php foreach($this->_articles as $article) : ?>
<div class="row">
    <div class="dish_container">
        <h3><?= $article->Title() ?> (<?= $article->lang() ?>)</h3>
        <h4><?= $article->Category()->Name() ?></h4>

        <div class="row">
            <div class="col-12"><img class="dish_illustration" src="Ressources/img/articles/<?= $article->Image() ?>" /></div>
        </div>
        <div class="row">
            <p class="col-12"><?= $article->Author()->Name(); ?></p>
        </div>

        <div class="row">
            <span class="col-4 icon icon_like"><?= $article->Likes() ?></span>
            <span class="col-4 icon icon_dislike"><?= $article->Dislikes() ?></span>
            <span class="col-4 icon icon_commentary"><?= count($article->Comments()) ?></span>
        </div>

        <div class="ingredient_button_container">
            <a class="ingredient_button" href="backArticle-<?= $article->Id() ?>.<?= $_GET['lang'] ?>"><?= $this->_strings['BACK_CONTENT_CONSULT_ARTICLE'] ?></a>
            <a class="ingredient_button" href="confirmArticle-<?= $article->Id() ?>.<?= $_GET['lang'] ?>"><?= $this->_strings['BACK_CONTENT_ACCEPT_ARTICLE'] ?></a>
            <a class="ingredient_button" href="refuseArticle-<?= $article->Id() ?>.<?= $_GET['lang'] ?>"><?= $this->_strings['BACK_CONTENT_DENY_ARTICLE'] ?></a>
        </div>
    </div>
</div>
    <?php endforeach ?>
<?php endif ?>

<!-- Affichage des categories -->

<?php if(!empty($this->_categories)) : ?>
<h2 class="backContent_title"><?= $this->_strings['BACK_CONTENT_TITLE_CATEGORIES'] ?></h2>

    <?php foreach($this->_categories as $category) : ?>
<div class="row">
    <div class="dish_container">
        <h3 class="category_title"><?= $category->Name() ?> (<?= $category->Lang() ?>)</h3>
        <div class="ingredient_button_container">
            <a class="ingredient_button" href="confirmCategory-<?= $category->Id() ?>.<?= $_GET['lang'] ?>"><?= $this->_strings['BACK_CONTENT_ACCEPT_CATEGORY'] ?></a>
            <a class="ingredient_button" href="refuseCategory-<?= $category->Id() ?>.<?= $_GET['lang'] ?>"><?= $this->_strings['BACK_CONTENT_DENY_CATEGORY'] ?></a>
        </div>
    </div>
</div>
    <?php endforeach ?>
<?php endif ?>